<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FlatMenu</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script src="FlatMenu.js"></script>
    <style>
      .left {text-align:right;
      width:50%;
      float:left;
      color:#555555;
      font-size:13px;
      line-height:30px;
      padding:0px 1px 0px 0px;
      }
      
      .right {float:left;
      line-height:30px;
      font-size:18px;
      }
      
      .midashi {
      text-align:center
      }
      
      #az, #a, #k, #s, #t, #n, #h, #m, #y, #r, #w {
      width:100%;
      }
    </style>
  </head> 
 
  <body>
    <div id="title" align="center" style="font-size:50px; margin:10px"><b>全部入りメニュー</b></div>
    <div id="menuu" style="width:98%; height:180px; overflow:hidden; float:left; border-style:solid; border-width: 1px 0px 1px 1px">
      <div id="az">
	<div class="midashi">
	  <h3>A-Z</h3><ul id="a-z"></ul>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="a">
	<div class="midashi">
	  <h3>あ</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="k">
	<div class="midashi">
	  <h3>か</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="s">
	<div class="midashi">
	  <h3>さ</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>
            
      <div style="clear:both"></div>
      <div id="t">
	<div class="midashi">
	  <h3>た</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="n">
	<div class="midashi">
	  <h3>な</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="h">
	<div class="midashi">
	  <h3>は</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="m">
	<div class="midashi">
	  <h3>ま</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>

      <div style="clear:both"></div>
      <div id="y">
	<div class="midashi">
	  <h3>や</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>


      <div style="clear:both"></div>
      <div id="r">
	<div class="midashi">
	  <h3>ら</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>	

      <div style="clear:both"></div>
      <div id="w">
	<div class="midashi">
	  <h3>わ</h3>
	</div>
	<div class="left"></div>
	<div class="right"></div>
      </div>
	<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
      </div>
    </div>
    
    <div id="barr" style="width:15px; height:180px; overflow:auto; float:left; border-width: 1px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>

    <div id="nakami" style="width:98%; height:350px; border-style:solid; float:left; border-width: 1px; padding:0px 5px 0px 5px; margin: 5px auto 0px auto; overflow:auto">
スナッピングを利用した無階層メニュー<br>
小沢邦雄 増 井 俊 之<br>
GUI で現在広く利用されている階層型メニューは大量のエントリを扱うのに便利であるが,階層構 造についてあらかじめ充分理解しないとうまく使いこなせないという問題点がある.階層構造を利用 せず,全てのメニュー項目を一列に並べて表示し,スナッピングを用いて項目を検索/選択する「全 部入りメニュー」を提案する.<br>
FlatMenu: Handling many menu entries without hierarchy<br>
Kunio Ozawa and Toshiyuki Masui<br>
We propose a new GUI widget calld FlatMenu, with which users can handle thousands of entries without using hierarchical data structure. All the entries in FlatMenu are simply laid out as a list, and users can select an item by scrolling the list with fluid snapping behavior.<br>
<br>
<br>
1. はじめに<br>
図 1 のようなプルダウンメニューや TreeView の ような GUI 部品において階層構造が広く利用されて いる.階層型構造を利用すると小さな領域で多くの項 目を扱うことができるが,以下のような不具合も存在 する.<br>
(1)	階層の奥の方に存在する項目を見つけるために は項目を開いて探す必要がある.階層構造につ いてよく理解していれば問題ないが,構造をよ く知らない場合,項目が階層構造のどこにある のかを捜すことが難しい.<br>
(2)	アプリケーション毎に項目の名前や位置が異な る可能性があり,項目が存在しない場合もある.<br>
本論文では,このような問題を解決する「全部入り メニュー」を提案する.全部入りメニューは階層構造 を利用せず,あらゆるメニュー項目をフラットに並べ て配置し,SmoothSnap1) によるスナッピング操作を 利用することにより目的の項目を選択する.<br>
<br>
2. 全部入りメニュー<br>
2.1 フラットな構成<br>
全部入りメニューでは,システムが持つあらゆるメ ニュー項目がひとつのメニュー内に網羅されている (図 2).例えば,Mac の Firefox では「新規タブを開く」という項目が「ファイル」という名前のメインメ ニュー内にあり,「拡大」という項目が「表示」という メインメニュー内の「ズーム」というサブメニュー内 にあるが,仮に Firefox が全部入りメニューを使用し ていたなら,これらの項目は同じ一つのメニュー内に 並ぶことになる.<br>
<br>
2.2 複数表現の利用<br>
通常のメニューシステムでは,ひとつの機能はひと つのメニュー項目に対応づけられているが,全部入り
メニューでは,同じ機能に対して複数の表現項目を用<br>
意する.例えば,現在のページを印刷するタスクは 「プリント」「印刷」「プリンタに出力」など様々な表 現が可能であるが,このような全ての表現をひとつの<br>
メニュー内に用意しておく. メニューの作成者が項目の名前をごく少数に絞って<br>
しまうことは,そのシステムのユーザにシステム特有 の表現への慣れを強要することにもなりかねないが, 全部入りメニューではそれらを絞らないためユーザが 思い浮かべた表現のまま直感的に目的の機能を探すこ とが可能である.<br>
例えば,図 2 では,「それほどスクロールしない」「超 スクロールする」など,一般的なメニューではあまり 使われないであろう表現も用意している.<br>
2.3 SmoothSnap<br>
全ての項目を一つのメニューに表示する場合,目的 の位置までスクロールする方法が問題になる.項目数 が膨大なメニューを通常のスクロールバーでスクロー ルすると,ノブをわずかに動かした場合でも表示は大 きく移動するので微調整が難しく,また画面遷移も激 しくなるためスクロール中に自分の位置が把握しづら いが,SmoothSnap を利用すればこのような問題が発 生しない.SmoothSnap には以下のような特徴がある.<br>
• ノブを微量だけ操作した場合は細かい粒度で連続 的に値を変化させる.<br>
• ノブを沢山移動した場合は重要なポイントにス ナッピングする.<br>
図 3a の状態からノブをドラッグして少しだけ下に移動させると,通常のスクロールのように連続的にスク ロールされ,図 3b の状態のようになる.ノブのドラッ グを離さないまま更に下にスクロールすると,図 4a のように重要な位置までスナッピングされる.図 3, 図 4 の例に使用しているメニューでは項目が五十音順 に並んでおり,一気にあかさたなの次の行までスナッ ピングするよう設定しているので,た行の一番上まで スナッピングしている.そのままノブを下げ続けると, メニューは次のな行までスナッピングし,図 4b の状 態になる.目的地付近からの微調整を行うためには, 一度マウスを離してからもう一度ノブを動かせばよい.<br>
SmoothSnap が持つ以上の特徴により,長大なメ ニューを目的の項目付近まで一気かつ確実にスクロー ルし,あとは細かい移動で目的の項目まで容易に辿り つくことができる.<br>
<br>
2.4実 装<br>
HTML と JavaScript で実装を行った.ノブをクリッ クした位置をスクロール開始の点とし,そこから現在 のマウスカーソル位置までの差分をスクロール距離と して,その値に応じてスナッピングを行っている.ス ナッピングさせるためにはスクロールバーを移動して もメニューの画面遷移が停止している必要があるが, 項目のみを表示する iframe とスクロールバーのみを 表示する iframe の二つに分割し,二つの iframe 間を JavaScript で連動させることで実現した.<br>
<br>
3.関 連<br>
3.1 タグ付け<br>
一つの機能が複数の名前を持つのに似た概念として, タグ付けがある.タグ付けはユーザが各々の求めるも のを検索しやすいようにカスタマイズするという点に おいては有用であるが,全ての機能にタグをつけるこ とはユーザの負担になり,そもそも普段使わない機能 に,その機能を必要とするときのみ有効となるような タグを付けることは難しく,それもまたユーザにとっ ては大きな負担となる.<br>
さらに,タグ付けは同じタグが付いているものが複 数ある場合にはそのタグが付けられたもののリストか ら一つを選ぶ必要が生じ,そこにはタグを上位,機能 を下位とした階層構造がある.それに対して全部入り メニューは機能そのものを探して選択するため,階層 構造が生じない.<br>
<br>
3.2索 引<br>
素早い参照を目的として多くの項目を網羅するとい う点において,索引との類似性があると考えられる. 索引は項目が出現する位置をまとめたものであり,例えば書籍における索引であれば,その書籍の内容にあ る程度精通していれば効果的に項目を見つけることが できる.<br>
全部入りメニューとの相違点としては,全部入りメ ニューでは同じ項目に多様な表現でのリンクがなされ ているという点が挙げられる.索引は,本文中に出現 している単語で項目が形成されているので,本文に登 場しない言葉を使用して多様な表現をすることは却って混乱を招く. さらに,索引はあくまで項目の出現位置をまとめたものなので,項目が複数ヶ所に出現する場合は複数ヶ 所へのリンクが明示されており,メニュー項目からの リンク先が機能そのものであるがゆえに,一項目に対 応するリンク先が常に一箇所である全部入りメニュー とは異なる.同じ位置へ至る複数の道筋があるもので はない.<br>
スナッピングを利用した無階層メニュー<br>
図 3	SmoothSnap で微量スクロール Fig. 3	a Small Amount of Scroll with SmoothSnap<br>
図 4	SmoothSnap でスナッピング Fig. 4	Snapping with SmoothSnap<br>
<br>
4.議 論<br>
全部入りメニューの利点と欠点について考察する.<br>
4.1 利	点 • 可逆的である<br>
プルダウンメニューなどの,階層メニューを使用し た既存の GUI は,しばしば不可逆的な動きをする が,階層構造がなく一つのメニューしかない全部入 りメニューではそのような現象は起こり得ない.ま た,SmoothSnap を使用していることにより,スク ロールし過ぎて目標を通りぎ過てしまった時もマウ スをもとに戻せば復帰できるという可逆性も持って いる.<br>
• 目標に辿り着きやすい メニュー自体が一つしかないので,他のところにあ るかもしれない,と複数のメニューを切り替えなが ら探す必要がない.コンテキストメニューやクリッ ク箇所毎に固有のメニューなど,気が付きにくい位 置に隠れてしまって見つけられないことがない.ま た,一つの機能に辿りつく道筋が複数あるので,目 的とする機能を見つけやすい.非常に単純に考える ならば,一つのメニュー内に同じ機能を持つ項目が 3 つあれば,辿り着きやすさは 3 倍になる.<br>
• 見やすい メニューが一つしかなく,尚且つ先述の通り,大き くスクロールした場合には重要なポイントにスナッ ピングするので,視点の移動が非常に少なくて済む.<br>
• 実装しやすい 構造としては項目を一つのメニュー内に全て羅列す るのみ,それを SmoothSnap でスクロールするだ けと非常にシンプルで,SmoothSnap も原理が単純 なため HTML と Javascript の知識さえあれば簡単 に実装することができる.<br>
<br>
4.2欠 点<br>
• 項目の有無が判断できない 元から存在していない機能についての項目は無い, もしくはわずかに言及している項目があるかもしれ ないが,それをユーザが予見することは難しい.作 成者側にしてみても,搭載していない機能について の項目は想定しづらいと思われる.また,搭載され ている機能の項目に関しても,ユーザが作成者の想 定外の表現で探した場合は見つからないが,たまた まユーザの思い浮かべた表現が漏れているだけなの かどうかをユーザが判断するためには別の表現をい くつか試してみなければならない. ただし,以上の欠点は既存の階層メニューにおいても同様に発生する問題であり,特に全部入りメニューにおいてのみ生じる問題ではないと付け加えておく.<br>
<br>
• 作成者側の手間が増える<br>
多彩な表現を思いつく限り網羅しておく必要がある ので,作成者の手間が増える可能性がある.<br>
<br>
5. まとめと展望<br>
通常であれば,膨大な数のメニュー項目をひとまと めにしてしまうとその中から特定の項目を見つけ出す のには手間がかかるために,何らかの方法で分割する が,全部入りメニューを使うことでそれらの手間を大 きく軽減することができ,また,分割することによっ て生じる問題を解消できる.<br>
今回は Web 上での実装を行ったが,全部入りメ ニューの概念はデスクトップアプリケーション等に も幅広く使用できるシステムだと考えられるので,更 なる範囲の応用を検討していく所存である.<br>
<br>
参考文献<br>
1) 増井俊之. SmoothSnap: スナッピングにもと づく微調整可能な GUI 部品. ソフトウェア科 学会 インタラクティブシステムとソフトウェア (WISS2009): December 2009.<br>
情報処理学会 インタラクション 2011<br>
    </div>
    <div style="clear:both">
    </div>

  </body> 
</html> 
