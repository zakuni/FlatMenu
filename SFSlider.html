<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SFSlider</title> 
  </head> 
 
  <body>

    <form id="position"> 
      x <input type="text" value="" name="scrollX" /><br>
      y <input type="text" value="" name="scrollY" /><br>
      a <input type="text" value="" name="scrollA" /><br>
      b <input type="text" value="" name="scrollB" />
    </form> 


    <form action="" method="" id="mouseposition"> 
      <ul> 
	<li>mousedownX: <input type="text" value="" name="mousedownX" /></li> 
	<li>mousedownY: <input type="text" value="" name="mousedownY" /></li> 
	<li>mouseX: <input type="text" value="" name="onmouseX" /></li> 
	<li>mouseY: <input type="text" value="" name="onmouseY" /></li> 	
      </ul> 
    </form> 

    <button onclick="scroll()">スクロール</button>
    <button onclick="mousedown()">aa</button>
    <br>


    <br><br>
    <iframe id="menu" src="menu.html" height="400" width=18% onmousedown=console.log("wow")>
      iframe対応ブラウザでみてください
    </iframe>

    <iframe id="content" src="content.html" height="400"  width=80%>
      この部分は iframe 対応のブラウザで見てください。
    </iframe>



    <script>

      function getMousePosition(e) {
      var mouse = new Object();
      
      if(e) {
      mouse.x = e.pageX;
      mouse.y = e.pageY;
      }
      else {
      mouse.x = event.x + document.body.scrollLeft;
      mouse.y = event.y + document.body.scrollTop;
      }
      
      return mouse;
      }


      function setMouseDownPosition(){
      mouseposition = document.getElementById('mouseposition');
      frames[0].onmousedown = function(e){
      mouseposition.mousedownX.value = getMousePosition(e).x;
      mouseposition.mousedownY.value = getMousePosition(e).y;
      }
      }
      
      setMouseDownPosition();
      
      function setScroll(){
      mouseposition = document.getElementById('mouseposition');
      frames[0].onmousemove = function(e){
      mouseposition.onmouseX.value = getMousePosition(e).x;
      mouseposition.onmouseY.value = getMousePosition(e).y;
      }
      }
      setScroll();
      
      function resetScroll(){
      scrollX = 0;
      scrollY = 0;
      }
      
      function getMS(theEvent){ console.log("マウスのボタンがクリックされたよ");}
      window.captureEvents(Event.CLICK);
      frames[0].onclick = getMS;
      
      //window.onMouseUp = alert("hah");
      //Window.onClick = alert("click");
      //window.onMouseUp = mouseup();
      //window.onMouseDown = mousedown();
      //frames[0].onMouseDown = mousedown();
      //frames[0].onMouseUp = mouseup();
      //window.onMouseOver = mousedown;
      function mousedown(){
      // alert("mousedown event detected!");
      console.log("aa");
      }
      
      function mouseup(){
      // alert("mouse up!");
      console.log("bb");
      }
      
      
      function setPosition() {
      target = document.getElementById('position');
      
      target.scrollX.value    = getScrollPosition().x;
      target.scrollY.value    = getScrollPosition().y;
      target.scrollA.value    = getScrollPosition().a;
      target.scrollB.value    = getScrollPosition().b;
      
      setTimeout( function(){setPosition()},100 );
      }
      
      
      function getScrollPosition() {
      var obj = new Object();
      
      obj.x = document.documentElement.scrollLeft || document.body.scrollLeft;
      obj.y = document.documentElement.scrollTop  || document.body.scrollTop;
      obj.a = frames[0].document.documentElement.scrollLeft || frames[0].document.body.scrollLeft;
      obj.b = frames[0].document.documentElement.scrollTop  || frames[0].document.body.scrollTop;
      if(obj.b > 50){
      window.frames[1].scrollTo(0, 50);
      }
      else{
      window.frames[1].scrollTo(0, 0);
      }
      return obj;
      }
      
      
      function scroll(){
      target = document.getElementById('btn');
      //window.scrollTo(0,20);
      //window.location.replace("#top");
      //window.scrollIntoView();
      //document.getElementById("koko").scrollIntoView(true);
      window.frames[1].scrollTo(getScrollPosition().a, getScrollPosition().b);
      
      } 
      
      setPosition();

    </script> 
  </body> 
</html> 
