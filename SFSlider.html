<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SFSlider</title> 
  </head> 
 
  <body>

    <form id="position"> 
      y <input type="text" value="" name="scrollY" /><br>
      b <input type="text" value="" name="scrollB" />
    </form> 

    <form action="" method="" id="mouseposition"> 
      <ul> 
	<li>mousedownY: <input type="text" value="" name="mousedownY" /></li> 
	<li>mouseY: <input type="text" value="" name="onmouseY" /></li> 	
      </ul> 
    </form> 

    <br>

    <iframe id="menu" src="menu.html" height="400" width=18% onmousedown=console.log("wow")>
      iframe対応ブラウザでみてください
    </iframe>

    <iframe id="content" src="content.html" height="400"  width=80%>
      この部分は iframe 対応のブラウザで見てください。
    </iframe>



    <script>


// マウスカーソル位置
      function getMousePosition(e) {
        var mouse = new Object();      
          if(e) {
            mouse.y = e.pageY;
          }
        else {
          mouse.y = event.y + document.body.scrollTop;
        }      
        return mouse;
      }



// クリック位置(スクロールスタート位置)
      function setMouseDownPosition(){
        mouseposition = document.getElementById('mouseposition');
        frames[0].onmousedown = function(e){
          mouseposition.mousedownY.value = getMousePosition(e).y;
        }
      }      
      setMouseDownPosition();
      

      function setScroll(){
        mouseposition = document.getElementById('mouseposition');
        frames[0].onmousemove = function(e){
          mouseposition.onmouseY.value = getMousePosition(e).y;
        }
      }
      setScroll();
      

      function resetScroll(){
        scrollX = 0;
        scrollY = 0;
      }
    
      
      function setPosition() {
        target = document.getElementById('position');
      
        target.scrollY.value    = getScrollPosition().y;
        target.scrollB.value    = getScrollPosition().b;
      
        setTimeout( function(){setPosition()},50 );
      }
      

// スクロールバーの位置を取得(フレーム外とフレーム内)
      function getScrollPosition() {
        var obj = new Object();
      
        obj.y = document.documentElement.scrollTop  || document.body.scrollTop;
        obj.b = frames[0].document.documentElement.scrollTop  || frames[0].document.body.scrollTop;
        if(obj.b % 10 == 0){
          window.frames[1].scrollTo(0, obj.b);
        }
        return obj;
      }
      
      
      function scroll(){
        target = document.getElementById('btn');
        //window.scrollTo(0,20);
        //window.location.replace("#top");
        //window.scrollIntoView();
        //document.getElementById("koko").scrollIntoView(true);
        window.frames[1].scrollTo(getScrollPosition().a, getScrollPosition().b);
      } 
      
      setPosition();

    </script> 
  </body> 
</html> 
